{% extends 'base.html' %}

{% block css%}<script src='https://cdn.plot.ly/plotly-2.2.0.min.js'></script>
<link rel="stylesheet" href="../static/css/dashboard.css" />{% endblock %}
{% block content%}
<div class="background">

    <div class="date__wrapper">

        <h3>日期</h3>
        <form>
            <div>
                <label for="startDate">起始日期:</label>
                <input type="date" name="startDate" min="2021-06-30" value="2021-06-30">
            </div>
            <div>
                <label for="endDate">結束日期:</label>
                <input type="date" name="endDate" min="2021-06-30">
            </div>
        </form>
    </div>
    <section class="loader__wrapper">
        <div class="loader">
            <div class="upper ball"></div>
            <div class="right ball"></div>
            <div class="lower ball"></div>
            <div class="left ball"></div>
        </div>
        <h2 class="loading__word">Loading...</h2>
    </section>
    <div class="plot__section">
        <h3>電影更新狀況</h3>
        <section class="dashboard__wrapper">
            <div class="plot" id='renderMovieUpdatePlot'>
            </div>
            <div class="plot" id='renderTomatoUpdatePlot'></div>
            <div class="plot">
                <h5 class="table_text">資料庫更新狀態</h5>
                <table>
                    <thead>
                        <tr>
                            <th>日期</th>
                            <th>更新數量</th>
                            <th>更新狀態</th>
                        </tr>
                    </thead>
                    <tbody class="table__value">
                    </tbody>
                </table>
            </div>
            <div class="plot" id='renderFetchDetailTimePlot'></div>
        </section>
        <h3>評價更新狀況</h3>
        <section class="dashboard__wrapper">
            <div class="plot" id='renderImdbRatingPlot'></div>
            <div class="plot" id='renderDoubanRatingPlot'></div>
            <div class="plot" id='renderTomatoRatingPlot'></div>
            <div class="plot" id='renderFetchRatingTimePlot'></div>
        </section>

        <h3>電影轉換率</h3>
        <section class="dashboard__wrapper">
            <div class="plot" id='renderDoubanRotateRatePlot'></div>
            <div class="plot" id='renderTomatoRotateRatePlot'></div>
        </section>

        <div>
            <h5 class="table_text">IMDb 更新數據表</h5>
            <table>
                <thead>
                    <tr>
                        <th>日期</th>
                        <th>IMDb 電影更新數量</th>
                        <th>IMDb 檔案集下載時間（秒）</th>
                        <th>Google API 平均獲取時間（秒）</th>
                    </tr>
                </thead>
                <tbody class="IMDb_table_data">

                </tbody>

            </table>

        </div>
    </div>
</div>

{% endblock %}

{% block js%}<script src="../static/js/dashboard.js" type="text/javascript"></script>
{% endblock %}